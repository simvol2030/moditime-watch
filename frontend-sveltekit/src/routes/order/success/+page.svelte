<script lang="ts">
	import { onMount } from 'svelte';
	import { goto } from '$app/navigation';
	import SeoManager from '$lib/components/seo/SeoManager.svelte';
	import Container from '$lib/components/ui/Container.svelte';
	import { cart } from '$lib/stores/cart.svelte';

	const seo = {
		title: '–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω',
		description: '–í–∞—à –∑–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω. –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.',
		noindex: true
	};

	const features = [
		{
			icon: 'üìß',
			title: '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞ email',
			description: '–ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –¥–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞ –Ω–∞ –≤–∞—à—É –ø–æ—á—Ç—É'
		},
		{
			icon: 'üë§',
			title: '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å—å–µ—Ä–∂',
			description: '–° –≤–∞–º–∏ —Å–≤—è–∂–µ—Ç—Å—è –Ω–∞—à —ç–∫—Å–ø–µ—Ä—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 2 —á–∞—Å–æ–≤'
		},
		{
			icon: 'üì±',
			title: '–¢—Ä–µ–∫–∏–Ω–≥ –≤ Telegram',
			description: '–ü–æ–ª—É—á–∞–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞–∫–∞–∑–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏'
		}
	];

	onMount(() => {
		// –û—á–∏—â–∞–µ–º –∫–æ—Ä–∑–∏–Ω—É –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞
		cart.clear();
	});
</script>

<SeoManager {seo} />

<main class="page-main success-page">
	<Container>
		<div class="success-content">
			<div class="success-icon">‚úì</div>
			<h1 class="success-title">–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω!</h1>
			<p class="success-description">
				–ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –≤—ã–±–æ—Ä Moditimewatch. –í–∞—à –∑–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É, –∏ –Ω–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π
				–∫–æ–Ω—Å—å–µ—Ä–∂ —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π.
			</p>

			<div class="success-features">
				{#each features as feature}
					<div class="feature-card">
						<div class="feature-card__icon">{feature.icon}</div>
						<h3 class="feature-card__title">{feature.title}</h3>
						<p class="feature-card__description">{feature.description}</p>
					</div>
				{/each}
			</div>

			<div class="success-info">
				<h2 class="success-info__title">–ß—Ç–æ –¥–∞–ª—å—à–µ?</h2>
				<ol class="success-steps">
					<li>–ù–∞—à –∫–æ–Ω—Å—å–µ—Ä–∂ —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞</li>
					<li>–ú—ã –ø—Ä–æ–≤–µ—Ä–∏–º –Ω–∞–ª–∏—á–∏–µ —á–∞—Å–æ–≤ –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–º —Å—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏</li>
					<li>–ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –æ—Ç–ø—Ä–∞–≤–∏–º –≤–∞–º —Ç—Ä–µ–∫–∏–Ω–≥-–Ω–æ–º–µ—Ä –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è</li>
					<li>–ö—É—Ä—å–µ—Ä –¥–æ—Å—Ç–∞–≤–∏—Ç —á–∞—Å—ã —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–∏–º–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –æ–ø–ª–∞—Ç–æ–π</li>
				</ol>
			</div>

			<div class="success-actions">
				<a href="/" class="btn btn-primary">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
				<a href="/catalog" class="btn btn-ghost">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</a>
			</div>

			<div class="success-note">
				<p>
					<strong>–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?</strong> –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ —á–µ—Ä–µ–∑
					<a href="https://t.me/moditimewatch">Telegram</a>
					–∏–ª–∏ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É
					<a href="tel:+79999604322">+7 (999) 960-43-22</a>
				</p>
			</div>
		</div>
	</Container>
</main>

<style>
	.success-page {
		min-height: 70vh;
		padding: var(--space-4xl) 0;
		background: linear-gradient(
			160deg,
			var(--color-surface) 0%,
			var(--color-background) 100%
		);
	}

	.success-content {
		max-width: 900px;
		margin: 0 auto;
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: var(--space-2xl);
		text-align: center;
	}

	.success-icon {
		width: 120px;
		height: 120px;
		border-radius: 50%;
		background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-secondary) 100%);
		color: #fff;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: 72px;
		box-shadow: var(--shadow-lg);
		animation: scale-in 0.5s ease;
	}

	@keyframes scale-in {
		from {
			transform: scale(0);
			opacity: 0;
		}
		to {
			transform: scale(1);
			opacity: 1;
		}
	}

	.success-title {
		font-size: var(--font-size-h1);
		color: var(--color-text);
	}

	.success-description {
		font-size: var(--font-size-body-lg);
		line-height: var(--line-height-relaxed);
		max-width: 640px;
	}

	.success-features {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
		gap: var(--space-xl);
		width: 100%;
		margin-top: var(--space-xl);
	}

	.feature-card {
		background-color: var(--color-background);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-xl);
		padding: var(--space-xl);
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: var(--space-sm);
	}

	.feature-card__icon {
		font-size: 48px;
		line-height: 1;
	}

	.feature-card__title {
		font-size: var(--font-size-h4);
	}

	.feature-card__description {
		font-size: var(--font-size-body-sm);
		line-height: var(--line-height-relaxed);
	}

	.success-info {
		width: 100%;
		max-width: 640px;
		background-color: var(--color-background);
		border: 1px solid var(--color-border);
		border-radius: var(--radius-xl);
		padding: var(--space-2xl);
		text-align: left;
		margin-top: var(--space-xl);
	}

	.success-info__title {
		font-size: var(--font-size-h3);
		margin-bottom: var(--space-lg);
		text-align: center;
	}

	.success-steps {
		list-style: none;
		counter-reset: step;
		display: flex;
		flex-direction: column;
		gap: var(--space-md);
		padding: 0;
		margin: 0;
	}

	.success-steps li {
		counter-increment: step;
		position: relative;
		padding-left: var(--space-2xl);
		font-size: var(--font-size-body);
		line-height: var(--line-height-relaxed);
	}

	.success-steps li::before {
		content: counter(step);
		position: absolute;
		left: 0;
		width: 28px;
		height: 28px;
		border-radius: 50%;
		background-color: var(--color-primary);
		color: #fff;
		display: flex;
		align-items: center;
		justify-content: center;
		font-weight: 600;
		font-size: var(--font-size-body-sm);
	}

	.success-actions {
		display: flex;
		gap: var(--space-md);
		flex-wrap: wrap;
		justify-content: center;
		margin-top: var(--space-xl);
	}

	.success-note {
		padding: var(--space-lg);
		background-color: rgba(10, 36, 99, 0.06);
		border-radius: var(--radius-lg);
		font-size: var(--font-size-body-sm);
		margin-top: var(--space-xl);
	}

	body[data-theme='dark'] .success-note {
		background-color: rgba(62, 146, 204, 0.12);
	}

	.success-note a {
		color: var(--color-primary);
		text-decoration: underline;
	}

	@media (max-width: 768px) {
		.success-actions {
			flex-direction: column;
			width: 100%;
		}

		.success-actions .btn {
			width: 100%;
		}

		.success-features {
			grid-template-columns: 1fr;
		}
	}
</style>
